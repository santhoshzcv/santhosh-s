<!-- <div clas="container"> -->
<div class="container-fluid">
    <div class="table-wrapper">
        <div class="table-title">
            <div class="row d-flex">
                <div class="mr-auto p-2">
                    <h2>Patient Details</h2>
                </div>
                <div class="p-2">
                    <a href="#addEmployeeModal" class="btn btn-success" data-toggle="modal"><span
                            class="glyphicon">&#x2b;</span><span> Add New Patient</span></a>
                </div>
            </div>
        </div>
    </div>
    <div class="card">
        <table class="table table-hover table-striped">
            <thead>
                <tr>
                    <th scope="col" class="custom-width-10">Id</th>
                    <th scope="col" class="custom-width-17">Name</th>
                    <th scope="col" class="custom-width-17">Dob</th>
                    <th scope="col" class="custom-width-17">Address</th>
                    <th scope="col" class="custom-width-17">Phone no</th>
                    <th scope="col" class="custom-width-17">For More</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let patient of patientdata">
                    <td>{{patient._id}}</td>
                    <td>{{patient.name}}</td>
                    <td>{{patient.dob}}</td>
                    <td>{{patient.address}}</td>
                    <td>{{patient.phoneno}}</td>
                    <td><a class="btn btn-primary" href="#addPatientModal" data-toggle="modal"
                            (click)="popmodel(patient._id)">Click for more</a></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<!-- Modal to add new patient details -->
<div id="addEmployeeModal" class="modal fade">
    <div class="modal-dialog modal-full">
        <div class="modal-content">
            <form [formGroup]="patientForm">
                <div class="modal-header">
                    <h4 class="modal-title">Patient Personal Details</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="form-group col-4">
                            <label>
                                Id:
                            </label>
                            <input type="text" class="form-control" formControlName="_id" [ngClass]="{'is-invalid':
                            patientForm.get('_id').touched && patientForm.get('_id').invalid}" />
                            <div class="invalid-feedback">
                                <div>Id is required</div>
                            </div>
                        </div>
                        <div class="form-group col-4">
                            <label>
                                Name:
                            </label>
                            <input type="text" class="form-control" formControlName="name" [ngClass]="{'is-invalid': 
                            patientForm.get('name').touched && patientForm.get('name').invalid}">
                            <div class="invalid-feedback">
                                <div>Name is required</div>
                            </div>
                        </div>
                        <div class="form-group col-4">
                            <label>
                                Dob:
                            </label>
                            <input type="date" class="form-control" formControlName="dob" [ngClass]="{'is-invalid':
                            patientForm.get('dob').touched && patientForm.get('dob').invalid}">
                            <div class="invalid-feedback">
                                <div> Dob is required</div>
                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="form-group col-4">
                            <label>
                                Address:
                            </label>
                            <input type="text" class="form-control" formControlName="address" [ngClass]="{'is-invalid':
                            patientForm.get('address').touched && patientForm.get('address').invalid}">
                            <div class="invalid-feedback">
                                <div> Address is required</div>
                            </div>
                        </div>

                        <div class="form-group col-4">
                            <label>
                                Phoneno:
                            </label>
                            <input type="text" class="form-control" formControlName="phoneno" [ngClass]="{'is-invalid':
                            patientForm.get('phoneno').touched && patientForm.get('phoneno').invalid}">
                            <div class="invalid-feedback">
                                <div> Address is required</div>
                            </div>
                        </div>
                        <div class="form-group col-4">
                            <label>
                                Blood Group:
                            </label>
                            <input type="text" class="form-control" formControlName="bloodgroup" [ngClass]="{'is-invalid':
                                patientForm.get('bloodgroup').touched && patientForm.get('bloodgroup').invalid}">
                            <div class="invalid-feedback">
                                <div> Blood group is required</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!--  -->
                <div class="modal-header">
                    <h4 class="modal-title">Patient Medical Details</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="form-group col-5">
                            <label>
                                Hospital Name:
                            </label>
                            <input type="text" class="form-control" formControlName="hospitalname" [ngClass]="{'is-invalid':
                            patientForm.get('hospitalname').touched && patientForm.get('hospitalname').invalid}">
                            <div class="invalid-feedback">
                                <div> Hospital Name is required</div>
                            </div>
                        </div>
                        <div class="form-group col-5">
                            <label>
                                Doctor Name:
                            </label>
                            <input type="text" class="form-control" formControlName="doctorname" [ngClass]="{'is-invalid':
                            patientForm.get('doctorname').touched && patientForm.get('doctorname').invalid}">
                            <div class="invalid-feedback">
                                <div> Doctor Name is required</div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-5">
                            <label>
                                Visited Date:
                            </label>
                            <input type="date" class="form-control" formControlName="visitdate" [ngClass]="{'is-invalid':
                            patientForm.get('visitdate').touched && patientForm.get('visitdate').invalid}">
                            <div class="invalid-feedback">
                                <div> Visited Date is required</div>
                            </div>
                        </div>
                        <div class="form-group col-5">
                            <label>
                                Disease Name:
                            </label>
                            <input type="text" class="form-control" formControlName="diseasename" [ngClass]="{'is-invalid':
                                patientForm.get('diseasename').touched && patientForm.get('diseasename').invalid}">
                            <div class="invalid-feedback">
                                <div> Disease Name is required</div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--  -->
                <div class="modal-header">
                    <h4 class="modal-title">Patient Payment Details</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="form-group col-4">
                            <label>
                                Payment Bill Number:
                            </label>
                            <input type="text" class="form-control" formControlName="paymentbillnumber"
                                [ngClass]="{'is-invalid':
                            patientForm.get('paymentbillnumber').touched && patientForm.get('paymentbillnumber').invalid}">
                            <div class="invalid-feedback">
                                <div> Payment Bill Number is required</div>
                            </div>
                        </div>
                        <div class="form-group col-4">
                            <label>
                                Payment Mode:
                            </label>
                            <input type="text" class="form-control" formControlName="paymentmode" [ngClass]="{'is-invalid':
                            patientForm.get('paymentmode').touched && patientForm.get('paymentmode').invalid}">
                            <div class="invalid-feedback">
                                <div> Payment Mode is required</div>
                            </div>
                        </div>
                        <div class="form-group col-4">
                            <label>
                                Amount Paid:
                            </label>
                            <input type="text" class="form-control" formControlName="amountpaid" [ngClass]="{'is-invalid':
                            patientForm.get('amountpaid').touched && patientForm.get('amountpaid').invalid}">
                            <div class="invalid-feedback">
                                <div> Amount Paid is required</div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--  -->
                <div class="modal-footer">
                    <button type="submit" class="btn btn-success" [disabled]="!patientForm.valid"
                        (click)="patientDetails()">save</button>
                </div>
            </form>
        </div>
    </div>
</div>
<!-- Model for the particular patient -->
<div id="addPatientModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Patient Personal Details</h4>
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="form-group col-6">
                        <label>
                            Id:{{singlepatient._id}}
                        </label>
                    </div>
                    <div class="form-group col-6">
                        <label>
                            Name:{{singlepatient.name}}
                        </label>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-6">
                        <label>
                            Dob:{{singlepatient.dob}}
                        </label>

                    </div>
                    <div class="form-group col-6">
                        <label>
                            Address:{{singlepatient.address}}
                        </label>

                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-6">
                        <label>
                            Phoneno:{{singlepatient.phoneno}}
                        </label>

                    </div>
                    <div class="form-group col-6">
                        <label>
                            <p> Blood Group:{{singlepatient.bloodgroup}}</p>
                        </label>

                    </div>
                </div>
            </div>


            <div class="modal-header">
                <h4 class="modal-title">Patient Medical Details</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="form-group col-6">
                        <label>
                            Hospital Name:{{singlepatient.hospitalname}}
                        </label>

                    </div>
                    <div class="form-group col-6">
                        <label>
                            Doctor Name:{{singlepatient.doctorname}}
                        </label>

                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-6">
                        <label>
                            Visited Date:{{singlepatient.visitdate}}
                        </label>

                    </div>
                    <div class="form-group col-6">
                        <label>
                            Disease Name:{{singlepatient.diseasename}}
                        </label>

                    </div>
                </div>
            </div>

            <div class="modal-header">
                <h4 class="modal-title">Patient Payment Details</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="form-group col-6">
                        <label>
                            Payment Bill Number:{{singlepatient.paymentbillnumber}}
                        </label>

                    </div>
                    <div class="form-group col-6">
                        <label>
                            Payment Mode:{{singlepatient.paymentmode}}
                        </label>

                    </div>
                </div>
                <div class="row">
                    <div class="form-group col-12">
                        <label>
                            Amount Paid:{{singlepatient.amountpaid}}
                        </label>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>